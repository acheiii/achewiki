
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="description" content="nethogs:终端下的网络流量监控工具 - 最专业的Linux命令大全，内容包含Linux命令手册、详解、学习，值得收藏的Linux命令速查手册。">
    <meta name="keywords" content="Linux,Command,命令大全,Linux命令手册,nethogs,终端下的网络流量监控工具">
    <title>nethogs 命令，Linux nethogs 命令详解：终端下的网络流量监控工具 -  Linux 命令搜索引擎</title>
    <link rel="shortcut icon" href="../img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="../css/index.css?v=1628823324933">
</head>
<body>

<div class="header header_list">
    <div class="search">
        <ul class="search-list" id="result">
            <!-- <li><a href="#"><strong>find</strong> - 指定目录下查找文件。</a></li> -->
        </ul>
        <input type="text" class="query" id="query" autocomplete="off" autofocus="autofocus" placeholder="Linux 命令搜索"/>
        <div class="enter-input">
            <input type="hidden" id="current_path" value="/c/nethogs.html">
            <button id="search_btn">搜索</button>
        </div>
    </div>
</div>

<div class="markdown-body">

<span class="edit_btn">

<span class="split"></span>

</span>

<h1 id="nethogs"><a href="#nethogs" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>nethogs</h1>
<p>终端下的网络流量监控工具</p>
<h2 id="补充说明"><a href="#%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>补充说明</h2>
<p>有很多适用于Linux系统的开源网络监视工具。比如说，你可以用命令iftop来检查带宽使用情况。netstat用来查看接口统计报告，还有top监控系统当前运行进程。但是如果你想要找一个能够按进程实时统计网络带宽利用率的工具，那么NetHogs值得一看。</p>
<p><strong>NetHogs</strong> 是一个开源的命令行工具（类似于Linux的top命令），用来按进程或程序实时统计网络带宽使用率。</p>
<p>来自NetHogs项目网站:</p>
<blockquote>
<p>NetHogs是一个小型的net top工具，不像大多数工具那样拖慢每个协议或者是每个子网的速度而是按照进程进行带宽分组。NetHogs不需要依赖载入某个特殊的内核模块。如果发生了网络阻塞你可以启动NetHogs立即看到哪个PID造成的这种状况。这样就很容易找出哪个程序跑飞了然后突然占用你的带宽。</p>
</blockquote>
<p>本文为你介绍如何在Unix/Linux操作系统下如何安装和使用NetHogs按进程监控网络带宽使用率。</p>
<h3 id="语法"><a href="#%E8%AF%AD%E6%B3%95" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>语法</h3>
<pre class="language-shell"><code class="language-shell">nethogs（选项）（参数）
</code></pre>
<h3 id="选项"><a href="#%E9%80%89%E9%A1%B9" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>选项</h3>
<pre class="language-shell"><code class="language-shell">usage: nethogs <span class="token punctuation">[</span>-V<span class="token punctuation">]</span> <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span>-b<span class="token punctuation">]</span> <span class="token punctuation">[</span>-d seconds<span class="token punctuation">]</span> <span class="token punctuation">[</span>-v mode<span class="token punctuation">]</span> <span class="token punctuation">[</span>-c count<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p<span class="token punctuation">]</span> <span class="token punctuation">[</span>-s<span class="token punctuation">]</span> <span class="token punctuation">[</span>device <span class="token punctuation">[</span>device <span class="token punctuation">[</span>device <span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
  -V <span class="token builtin class-name">:</span> 打印版本。
  -h <span class="token builtin class-name">:</span> 打印此帮助。
  -b <span class="token builtin class-name">:</span> bughunt模式 - 暗示tracemode。
  -d <span class="token builtin class-name">:</span> 延迟更新刷新率（以秒为单位）。 默认值为1。
  -v <span class="token builtin class-name">:</span> 视图模式（0 <span class="token operator">=</span> KB / s，1 <span class="token operator">=</span>总KB，2 <span class="token operator">=</span>总B，3 <span class="token operator">=</span>总MB）。 默认值为0。
  -c <span class="token builtin class-name">:</span> 更新次数。 默认为0（无限制）。
  -t <span class="token builtin class-name">:</span> tracemode.
  -p <span class="token builtin class-name">:</span> 煽动混乱模式（不推荐）。
  -s <span class="token builtin class-name">:</span> 按发送列排序输出。
  -a <span class="token builtin class-name">:</span> 监控所有设备，甚至环回/停止。
  device <span class="token builtin class-name">:</span> 要监控的设备。 默认是所有接口启动和运行，不包括环回

当nethogs运行时，按：
  q：退出
  s：按SENT流量排序
  r：按RECEIVE流量排序
  m：在总（KB，B，MB）和KB / s模式之间切换
</code></pre>
<p>其他参数和用法</p>
<pre class="language-shell"><code class="language-shell">-d <span class="token builtin class-name">:</span> 刷新间隔
-h <span class="token builtin class-name">:</span> 帮助
-p <span class="token builtin class-name">:</span> promiscious 模式
-t <span class="token builtin class-name">:</span> trace模式 
-V <span class="token builtin class-name">:</span> 版本
</code></pre>
<p><strong>交互命令</strong></p>
<p>以下是NetHogs的一些交互命令（键盘快捷键）</p>
<ul>
<li>m : 修改单位</li>
<li>r : 按流量排序</li>
<li>s : 按发送流量排序</li>
<li>q : 退出命令提示符</li>
</ul>
<h3 id="安装"><a href="#%E5%AE%89%E8%A3%85" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>安装</h3>
<p><strong>在RHEL、CentOS和Fedora下安装NetHogs</strong></p>
<p>要安装NetHogs，你必须要启用你所用Linux下的EPEL源。然后运行下面的yum命令下载安装NetHogs包。</p>
<pre class="language-shell"><code class="language-shell">yum <span class="token function">install</span> nethogs
</code></pre>
<p><strong>在Ubuntu、Linux mint和Debian下安装NetHogs</strong></p>
<p>键入apt-get命令安装NetHogs包：</p>
<pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> nethogs
</code></pre>
<h3 id="nethogs用法"><a href="#nethogs%E7%94%A8%E6%B3%95" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>NetHogs用法</h3>
<p>在基于RedHat系统下键入如下命令启动NetHogs工具。</p>
<pre class="language-shell"><code class="language-shell">nethogs
</code></pre>
<p>在Debian/Ubuntu/Linux Mint下要执行NetHogs你必须拥有root权限：</p>
<pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> nethogs
</code></pre>
<p>!nethogs</p>
<p>Ubuntu 12.10 下的NetHogs预览</p>
<p>正如上图所示，send列和received列显示的是按照每个进程的流量统计。总的收发数据带宽在最下方，而且可以用交互命令控制排序，下面将要讨论这些交互命令。</p>
<h3 id="nethogs-命令行参数"><a href="#nethogs-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>NetHogs 命令行参数</h3>
<p>以下就是NetHogs命令行的参数，用-d来添加刷新频率参数，device name 用来检测给定的某个或者某些设备的带宽（默认是eth0）。例如：设置5秒钟的刷新频率，键入如下命令即可：</p>
<pre class="language-shell"><code class="language-shell">nethogs -d <span class="token number">5</span>
</code></pre>
<pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> nethogs -d <span class="token number">5</span>
</code></pre>
<p>如果只用来监视设备（eth0）的网络带宽可以使用如下命令：</p>
<pre class="language-shell"><code class="language-shell">nethogs eth0
</code></pre>
<pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> nethogs eth0
</code></pre>
<p>如果要同时监视eth0和eth1接口，使用以下命令即可：</p>
<pre class="language-shell"><code class="language-shell">nethogs eth0 eth1
</code></pre>
<pre class="language-shell"><code class="language-shell">$ <span class="token function">sudo</span> nethogs eth0 eth1

</code></pre>
<p>关于NetHogs命令行工具的完整参数列表，可以参考NetHogs的手册，使用方法是在终端里输入<code>man nethogs</code>或者<code>sudo man nethogs</code>，更多信息请参考NetHogs项目主页。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
</div>

<div class="footer  footer_index "><a href="../hot.html">Linux 命令列表</a></div><script type="text/javascript" src="../js/dt.js?v=1628823324531"></script><script type="text/javascript" src="../js/index.js?v=1628823324531"></script></body></html>